"use strict";!function(){var o={},a=[],l=0,e=zmail.Utils.DOM,t=zmail.isWSEnabled;Collaboration.getPageTitle=function(){return zmWinTitle.updateTitle()},Collaboration.serverup=function(e){e?window.console.log("Collaboration.serverup, Ignoring serverUp --"+new Date):(window.console.log("Collaboration.serverup, Going to handle serverUp --"+new Date),$.publish("/calendar/serverUp"),t||zmInit.serverUp())},Collaboration.serverdown=function(){t||zmInit.serverDown()},Collaboration.handleCustomMessage=function(e){zmComponent.notifier.push(e)},Collaboration.handleLanguageChange=function(e){$.publish("/user/languageChanged",[e])},Collaboration.handleCrossProductMessage=function(e,n){try{"true"===String(wmsdebug)&&window.console.log(n)}catch(e){}$.publish("zm/CrossProductMessage",{prd:e,msg:n}),"VO"===String(e)?(a[++l]=(new Date).getTime(),o[(new Date).getTime()]=n,t||zmComponent.notifier.push(n)):"CL"===String(e)&&void 0!==window.ZCL_handleCrossProductMessage&&window.ZCL_handleCrossProductMessage(e,n)},Collaboration.handleServiceMessage=function(e){e&&zmInit.handleServiceMessage(e)},Collaboration.handleLogout=function(){zmail.isZMOfflineEnabled&&!_zm.KeepMailDataInLocalStorage()?_zm.clearOfflineStorage():_zm.clearLocalStorage()},WmsUIImpl.handleAnnouncement=function(e,n,o){var a,l=!1;try{a=JSON.parse(e)}catch(e){zmUtil.debugLog("Invalid Admin message")}if("object"===babelHelpers.typeof(a)){var t=parseInt(zmail.zoid);if(a.hasOwnProperty("multipleLocaleConfig"))a.multipleLocaleConfig.forEach(function(e){e.hasOwnProperty("localeAll")&&e.localeAll===zmail.user.countrycode&&(l=!0,a.html=e.html)});if(a.hasOwnProperty("localeAll"))a.localeAll===zmail.user.countrycode&&(l=!0);else if(a.hasOwnProperty("locale")&&a.locale!==zmail.user.countrycode)return!1;a.all?l=!0:a.personal&&-1===t?l=!0:a.org&&0<t&&(l=!0),l||(a.admin&&zmail.isAdmin?l=!0:a.zoid&&Array.isArray(a.zoid)&&-1<a.zoid.indexOf(String(zmail.zoid))?l=!0:zmail.isSuperAdmin&&(a.superAdmin||a.superAdminFree||a.superAdminPaid)&&(l=!0));var i=a.html;return l&&i&&zmComponent.showAnnouncementBanner({content:i,contentType:"html",msgType:n,closeAction:WebMessanger.closeAnnBanner}),!1}},WmsUIImpl.UIReady=function(){zmUtil.integStatusFetchProcess.then(function(){zmail.IntegrationStatus.CHAT||e.hide(e.selector("#wmstoolbar"))})}}();