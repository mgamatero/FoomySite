"use strict";var __rollupModule=function(e){var n=["Editor","ZmIF-editor"],i=["ZmIF-compose","ZmIF-mailPreview"],r=["ZmIF-notes"],s=["ZmIF-fileTypes","ZmIF-sent","ZmIF-listActions","ZmIF-inbox","ZmIF-viewType","ZmIF-offline"],a=["ZmIF-lightbox"],o=function(e){var o,t="compose"===(o=e)?[].concat(i,n):"notes"===o?[].concat(n,r):"all"===o?[].concat(n,i,r,s,a):void 0;t&&WebFont.load({custom:{families:t}})},t=zmail.Core.Namespaces.create("zmail.Offline.Utils"),c=4,l=2,u=1,m=3,f=function(){return window.navigator.serviceWorker.controller?Promise.resolve(window.navigator.serviceWorker.controller):navigator.serviceWorker.register("/zm/sw.js").then(function(){return window.navigator.serviceWorker.ready}).then(function(e){return e.active})},v=function(){return new Promise(function(n,i){f().then(function(e){var o=new MessageChannel,t={command:"lock_offline",msg:{userid:zmail.zuid}};o.port1.onmessage=function(e){var o=e.data;0===o.status?n(l):1===o.status?n(u):2===o.status&&i(m)},e.postMessage(t,[o.port2])}).catch(function(){i(c)})})};return t.getOfflineStatus=v,t.loadFonts=o,e.getOfflineStatus=v,e.loadFonts=o,e}({});window.__rollupModule=void 0;