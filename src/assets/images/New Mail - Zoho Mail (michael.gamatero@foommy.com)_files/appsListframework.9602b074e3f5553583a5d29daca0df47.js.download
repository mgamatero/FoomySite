"use strict";define([],function(i){var e=i("zmAdHocSettings"),a=i("zmail.Utils.FeatureUtil"),n=i("zmail.Utils.DOM"),t=function(t,i,e){return zmText.get("mailsuite",t,i,e)},s=["mail","calendar","task","notes","contacts","bookmarks"],p=function(){var i=zmail.Utils.FeatureUtil.availableApps;zmsuite.lhsAppsAvailable=zmail.Utils.FeatureUtil.availableApps;var e=[],p={mail:{icon:"msi-mailApp zmDoubleIcon",id:"mail",dataName:"mail",tooltip:t("tooltips.mail"),clk:function(){zmApp.showApp("m")}},calendar:{icon:"msi-calendarApp zmDoubleIcon",id:"cal",dataName:"calendar",tooltip:t("tooltips.calendar"),clk:function(){zmApp.showApp("c")}},task:{icon:"msi-tasksApp zmDoubleIcon",id:"task",dataName:"task",tooltip:t("tooltips.tasks"),clk:function(){zmApp.showApp("t")}},notes:{icon:"msi-notesApp zmDoubleIcon",id:"notes",dataName:"notes",tooltip:t("tooltips.notes"),clk:function(){zmApp.showApp("n")}},contacts:{icon:"msi-contactsApp zmDoubleIcon",id:"contacts",dataName:"contacts",tooltip:t("tooltips.contacts"),clk:function(){zmApp.showApp("cn")}},bookmarks:{icon:"msi-bookmarksApp zmDoubleIcon",id:"links",dataName:"bookmarks",tooltip:t("tooltips.links"),clk:function(){zmApp.showApp("l")}}};return s.forEach(function(t){-1<i.indexOf(t)&&e.push(p[t])}),e},o=function t(i){var e=p();this.appList=t.util.getSortedAppList(e),this.popAccList=i,this.appObj={},this.accListObj={},this.$el=n.element(zdom("div",{className:"zmAppsBar"}))};return o.prototype={set:function(t){this.appList=t},setPopAccArr:function(t){this.popAccList=t},constructDOM:function(t){var i,e,p,s;for(s=n.element(zdom("ul",{className:"zmApps"})),e=this.appList.length,a.isHidden("topbar:apps")&&"true"===zmail.hasCustomLogo&&s.addClass("zmRBAcc"),i=0;i<e;i+=1)p=new o.appIcon(this.appList[i]),this.appObj[this.appList[i].id]=p,this.appList[i].dataName&&n.setData(this.appObj[this.appList[i].id].$el,"name",this.appList[i].dataName),n.mount(p.getDOM(),s);return t||n.mount(s,this.$el),s},getDOM:function(){return this.$el},removeAndInsertBefore:function(t,i){if(this.appObj[t]&&this.appObj[t].$el){this.appObj[t].$el.remove();var e=this.appObj[t].getDOM();this.appObj[i]&&this.appObj[i].$el?n.mountBefore(e,this.appObj[i].$el):n.mount(e,this.$el)}},removeAndInsertAfter:function(t,i){if(this.appObj[t]&&this.appObj[t].$el){this.appObj[t].$el.remove();var e=this.appObj[t].getDOM();this.appObj[i]&&this.appObj[i].$el?n.mountAfter(e,this.appObj[i].$el):n.mount(e,this.$el)}},reRender:function(){var t=i("zmApp");this.$el.empty(),zmail.leftAppOrder=e.getAppOrder(),this.appList=o.util.getSortedAppList(this.appList),this.constructDOM(),t.selectApp(t.currentApp)},reRenderAppArea:function(){this.$el.find("ul").eq(0).remove(),zmail.leftAppOrder=e.getAppOrder(),this.appList=o.util.getSortedAppList(this.appList);var t=this.constructDOM(!0);n.mountAtStart(t,this.$el)},reRenderAccArea:function(){this.constructAccountsDOM(!0)},removeAppSelection:function(){this.$el.find("ul").eq(0).find("li").removeClass("sel")},removeAccountSelection:function(){this.$el.find("ul").eq(1).find("li").removeClass("sel")},disableApps:function(t){var i=this;t.forEach(function(t){i.appObj[t].$el.addClass("zmDisabled")})},enableApps:function(t){var i=this;t.forEach(function(t){i.appObj[t].$el.removeClass("zmDisabled")})}},window.zmAppList=o}),define([],function(t){var i=t("zmail.Utils.DOM"),e=function(t){this.appData=t,this.$el=i.element(zdom("li",null))};return e.prototype={set:function(t){this.appData=t},constructDOM:function(){var t=this;i.clearHTML(this.$el),i.mount(zdom("i",{className:this.appData.icon}),this.$el),i.mount(zdom("span",{className:"lAppLbl"},this.appData.tooltip),this.$el),this.$el.off("click").click(function(){t.selectApp(),t.appData.clk()})},selectApp:function(){this.$el.parent().find("li").removeClass("sel"),zmail.appList.removeAccountSelection(),this.$el.addClass("sel")},getDOM:function(){return this.constructDOM(),this.$el}},window.zmAppList=window.zmAppList||{},window.zmAppList.appIcon=e}),define([],function(t){var i=t("_"),e={getSortedAppList:function(t){if(zmail.leftAppOrder instanceof Array||(zmail.leftAppOrder=zmail.leftAppOrder?zmail.leftAppOrder.split(","):[]),t&&t.length)return i.sortBy(t,function(t){var i=zmail.leftAppOrder.indexOf(t.id);return-1<i?i:100})}};return window.zmAppList=window.zmAppList||{},window.zmAppList.util=e});