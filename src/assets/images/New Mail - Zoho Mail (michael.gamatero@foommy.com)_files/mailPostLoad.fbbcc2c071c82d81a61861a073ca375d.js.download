"use strict";define([],function(e){var c,l,d,p,u,f,v=zmail.Core.Namespaces.create("ZMail.lView"),r=e("zmText").get("mail").listing.common,C=zmCenterListing.getMappedClass,h=ZMail.lConstants;p={envelope:function(){var e=C(c,l,d,"markupIcons"),a=C(c,l,d,"calEvent"),t=C(c,l,d,"att"),n=e||a?e||a:t;return!!n&&v.constTemplate("envelope",{iconCls:n})},checkbox:function(){return v.constTemplate("checkbox",{shwChkBox:d.selBoxVisibility})},flag:function(){var e=C(c,l,d,"flagIcon");return!!e&&v.constTemplate("flag",{iconCls:e})},tree:function(){return zdom("div",{className:"zmLTct"})}};(u={}).sender=function(){var e=zdom("div",{className:"zmLFrom"}),a=d[c.from]||d.from||h.SPACE,t=v.constTemplate("sender",{tooltip:d[c.sender]||"",from:a});e.appendChild(t);var n=C(c,l,d,"priority");n&&(n=" "+n,_zm.before(t,zdom("i",{className:"msi-priority"+n})));var s,i,r,m,o=(s=d[c.draftCount]||d.draftCount||0,i=s&&!d.hideDraftCount,r=zdom("div",{className:"zmLDCInfo"}),m=!1,i?(r.appendChild(v.constTemplate("draft",{draftCount:s})),m=!0):r.appendChild(zdom("span",{className:"zmLDft"})),{elem:r,haveDraft:m});return e.appendChild(o.elem),o.haveDraft&&_zm.addClass(e,"zmLDftOn"),e},u.titleNsummary=function(){var e,a=d[c.sub]||d.sub||r.noSubject,t=zdom("div",{className:"zmLContent"}),n=zdom("span",{className:"zmLSub","data-action":"subject"});if(d.AT&&(e=h.cls.attachmentIcon),e){var s=v.constTemplate("attachment");""!==s&&n.appendChild(s)}if(d.sumTxt&&Object.keys(d.sumTxt).length)n.appendChild(d.sumTxt.subject),t.appendChild(n),t.appendChild(d.sumTxt.summary);else{n.appendChild(v.constTemplate("subject",{subject:a})),t.appendChild(n);var i=d[c.sum]||d.sum||"";i&&t.appendChild(v.constTemplate("summary",{summary:i}))}return t},u.labelNqckActs=function(){var e=d[c.tagLst]||d.tagLst||"",a=zdom("div",{className:"zmLData","data-action":"pLabel"});if(e.length){var t=v.constTemplate("labels",{tagLst:e});""!==t&&a.appendChild(t)}var n=d[c.schemaText]||d.schemaText||"";if(n){var s=C(c,l,d,"schemaDisable")||"";s=" "+s;var i=d[c.schemaTip]||d.schemaTip||"",r=C(c,l,d,"schemaIcon"),m=v.constTemplate("quickAction",{quickAct:n,icon:r,disableCls:s,tooltip:i});a.appendChild(m)}return a};f={},f={associates:function(){var e=C(c,l,d,"associate");return!!e&&v.constTemplate("associate",{iconCls:e})},folName:function(){var e=d[c.fName]||d.fName||"";return!!e&&v.constTemplate("folderName",{folName:e})},size:function(){var e=d[c.size]||d.size||"";if(e)return v.constTemplate("size",{size:e})},date:function(){var e=d[c.date]||d.date||"";return!!e&&v.constTemplate("date",{date:e})},trash:function(){var e=d[c.iconArr]||d.iconArr||"";return!!e&&v.constTemplate("trash",{iconCls:e[0]})}};var a=function(e){var a,t=e.returnType;c=e.propertyMap,l=e.classMap;var n,s,i=(d=e.data)[c.id]||d.id||"",r=" "+C(c,l,d,"unreadCls")||"",m=" "+C(c,l,d,"archive")||"",o=d[c.data]||d.data||"";return(a=zdom("div",{id:i,className:h.cls.mRow+r+m,"data-ty":o})).appendChild((n=zdom("div",{className:"zmLact"}),v.constPart(p,n),n)),a.appendChild((s=zdom("div",{className:"zmLFCD"}),v.constPart(u,s),s)),v.constPart(f,a),"dom"===t&&(a=$.e(a)[0]),a};return zmCenterListing.registerListItemTemplate({type:"subMail",generator:a}),v});