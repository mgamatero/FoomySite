"use strict";var __rollupModule=function(a){var c=zmText.get("captcha"),t={getCaptchaDialog:function(a){var t,e="";return a.incorrectCaptcha&&(t=zdom("tr",null,zdom("td",null," "),zdom("td",{className:"SC_Fred"},c.captcha.incorrectCaptcha)),e="zmEFerror"),zdom("table",{width:"100%",cellSpacing:"0",cellPadding:"5",border:"0",align:"center"},zdom("tbody",null,zdom("tr",null,zdom("td",{colSpan:"2"})),zdom("tr",null,zdom("td",null," "),zdom("td",null,c.captcha.enterTextInfo)),zdom("tr",null,zdom("td",null," "),zdom("td",null,c.captcha.caseSensitiveInfo)),zdom("tr",null,zdom("td",null," "),zdom("td",null,zdom("div",null,zdom("img",{className:"SC_captcha",align:"absmiddle",height:"72px",alt:"HIP Image",title:c.captcha.imageTitle,name:"ze_hipImg"}),zdom("i",{className:"msi-refresh"})))),t,zdom("tr",null,zdom("td",null," "),zdom("td",{className:e},zdom("input",{type:"text",className:"zmTextBox",style:{width:"202px"}})))))}};window.zmscaptcha=window.zmscaptcha||{},window.zmscaptcha.views=t;var n,l,i,e=window.zmscaptcha||{},d="#captchapopup",m=!1,r="",p=e.views,s=function(){var a=$.q(d).find(".msi-refresh")[0],t=$.q(d).find("input")[0];setTimeout(function(){$(t).focus()},550),$.e(a).on("click",function(){m=!0,$.ajax(n)})},u=function(){l.remove(!0)};i=function(){var a=$.e($.q("input",$.q(d)),!0),t=$(a).val();if(""===(t=t.trim()))return zmUtil.succErrMsg("e",zmText.get("captcha","captcha.emptyCaptcha")),!1;var e=r+"="+t;l.hide(!0),r="",n.data+="&"+e,n.prevCaptchaError=!0,setTimeout(function(){$.ajax(n)},500)};e.createCaptchaDialog=function(a,t,e){r=a;var c=Boolean(t.prevCaptchaError);if($.q(d).length||$.e(document.body).appendDOM(zdom("div",{id:"captchapopup"})),m){var o=p.getCaptchaDialog({incorrectCaptcha:c});$.q(d).clearHTML(),$.q(d).appendDOM(o),$.q("img",$.q(d)).eq(0).attr("src",zmail.conPath+"/showcaptcha?digest="+r),s()}else l=Dialog.new({title:zmText.get("captcha","captcha.captchaTitle"),defaultCloseIcon:!0,mask:"white",ignoreMouseDown:!0,removePreviousDialog:!0,$content:function(a){$.q(d).length||$.e(document.body).appendDOM(zdom("div",{id:"captchapopup"}));var t=p.getCaptchaDialog({incorrectCaptcha:a});return $.q(d).clearHTML(),$.q(d).appendDOM(t),$.q("img",$.q(d)).eq(0).attr("src",zmail.conPath+"/showcaptcha?digest="+r),$.q(d)[0]}(c),dialogDidMount:s,buttons:[{name:zmText.get("captcha","common.go"),callback:i},{isCancel:!0,name:zmText.get("captcha","common.cancel"),callback:u}],closeAction:e,position:"center"});n=t,m=!1},e.resendRequest=i,window.zmscaptcha=e;var o=zmail.Core.Namespaces.create("zmail.Components.ZMCaptcha");return o.views=t,o.captcha=e,a.captcha=e,a}({});window.__rollupModule=void 0;