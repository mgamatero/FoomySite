"use strict";define([],function(e){var t=e("zmail.Core.Namespaces").create("zmail.attachmentReminder"),n=function(e,t){this.message=e,this.object=t},s=function(e,t){for(var n="",s=0,i=e.length;s<i;s++){var r=e[s];r&&(n&&(n+=t),n+=r)}return n},i={pronoun:["i","we"],auxVerb:["'ve"," have"],actionVerb:["find","see","download","check","go through","refer"],article:["the","my"],mainActionVerb:["attached","included","enclosed"],adVerb:["here","hereby","herewith","herein"],mainNoun:["attachments?"],noun:["files?","images?","pictures?","photos?","resumes?","copy","copies","docs?","documents?","papers?","emails?","spreadsheets?","pdfs?"],prepositions:["in","this"]},r=!1,a=null,o=["attachments? has","attached it for your reference","PFA"],u=!1,h=null,d=function(){var e="|";if(r||!a){r=!1;var t,n=i;t="(?:",t+="(?:",t+="(?:",t+="(?:\\b(?:"+s(n.pronoun,e)+"))",t+="(?:\\s*(?:"+s(n.auxVerb,e)+"))?",t+=")",t+="|",t+="(?:",t+="(?:\\b(?:"+s(n.actionVerb,e)+"))",t+="(?:\\s+(?:"+s(n.prepositions,e)+"))?",t+="(?:\\s+(?:"+s(n.article,e)+"))?",t+=")",t+=")",t+="(?:\\b\\s*(?:"+s(n.mainNoun,e)+"|"+s(n.mainActionVerb,e)+")\\b)",t+="(?:\\s+(?:"+s(n.article,e)+"))?",t+="(?:\\s+(?:"+s(n.noun,e)+")\\b)?",t+=")",t+="|",t+="(?:",t+="(?:\\b\\s*(?:"+n.mainActionVerb.join("|")+")\\b)",t+="(?:it)?",t+="(?:",t+="(?:\\s+(?:"+s(n.adVerb,e)+")\\b)",t+="|",t+="(?:",t+="(?:\\s+(?:"+s(n.prepositions,e)+"))?",t+="(?:\\s+(?:this|"+s(n.article,e)+"))?",t+="(?:\\s+(?:"+s(n.noun,e)+")\\b)",t+=")",t+=")",t+=")",t+="|",t+="(?:",t+="(?:",t+="(?:\\b(?:"+s(n.noun,e)+")\\b)",t+="|",t+="(?:\\b(?:"+s(n.adVerb,e)+")\\b)",t+=")",t+="(?:\\s*(?:"+s(n.mainActionVerb,e)+")\\b)",t+=")",a=new RegExp(t,"i")}return a},c=function(e){for(var t=[],n=/[|`~!@#$%^&*()\-_+={}[\]\\:;",<>/]/,s=null,i=0,r=e.length;i<r;i++)(s=n.exec(e[i]))&&t.push(s);return t};return Object.defineProperty(t,"filter",{get:function(){return i},set:function(e){var t=function(e){var t=[];for(var n in e){var s=c(e[n]);s.length&&t.push(s)}return t}(e);if(t.length)throw new n("Filter contains special characters",t);i=e,r=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"userPhrases",{get:function(){return o},set:function(e){var t=c(e);if(t.length)throw new n("User phrases contains special characters",t);o=e,u=!0},enumerable:!0,configurable:!0}),t.isFileNeedToAttach=function(e){var t=null;return!(t=d().exec(e))&&o.length&&(t=(!u&&h||(u=!1,h=new RegExp("\\s(?:"+s(o,"|")+")\\s","i")),h).exec(" "+e+" ")),t},t.getFilterRegexp=d,zmail.win.zmAttReminder=t}),define([],function(e){var t=e("zmail.Core.Namespaces").create("zmail.mailReminder"),n="|",s={_date1:["today","morning","afternoon","evening","night","breakfast","lunch","dinner","day","monday","tuesday","wednesday","thursday","friday","saturday","sunday","tonight","tomorrow","fortnight","week","month","year","weekday","weekdays?","weekends?","january","february","march","april","may","june","july","august","september","october","november","december"]},i={pronoun:["i","we","they","he","she"],auxVerb:["will","could","may","shall","should","have"],actionVerb:["meet","schedule","see","complete","done","finished","starts","conduct","scheduled","completed","conducted","starting","started","plan","planned","organize","organized","resolve","resolved","execute","executed"],article:["the"],mainActionVerb:["meet","let"],adVerb:[],mainNoun:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","today","tomorrow","yesterday","fortnight","weekdays","weekday","weekends","weekend","January","February","March","April","May","June","July","August","September","October","November","December"],noun:["meeting","dinner","lunch","breakfast","conference","webinar","seminar","holiday","everyday","everyweek","everymonth","everyyear","appointment","programme","agenda","itinerary","appointments","programmes","project","projects"],prepositions:["from","to","in","at","on","by","until","till"]},r=["tonight","morning","afternoon","evening","night","breakfast","lunch","dinner","monday","tuesday","wednesday","thursday","friday","saturday","sunday","today","yesterday","tomorrow","month","year","weekends?","january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],a=["days","tonight","morning","afternoon","evening","night","breakfast","lunch","dinner","day after tomorrow","monday","tuesday","wednesday","thursday","friday","saturday","sunday","today","tomorrow","month","year","weekdays?","weekends?","january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],o=["will get back to you","will await your reply","awaiting your response","asap","as soon as possible"],u="?",h="([0-9]{1,2}[\\s]*(rd|nd|st|th)?)",d="([0-9]{1,2}[am|pm]?)",c="([0-9]{1,2}\\s?(.|:)?\\s?[0-9]{0,2}\\s?(am|pm)?)",l="([0-9]{1,4}[\\/\\-\\.]{1}(([0-9]{1,2})|([a-z]+))[\\/\\-\\.]{1}[0-9]{1,4})",p="([a-z0-9]+\\sdays?)",f="([a-z0-9]+\\shours?)",g={pattern1:function(){var e=[];return e.push("(?:"),e.push("(?:\\b(?:from))"),e.push("(?:\\s+(?:this|next|coming))?"),e.push("(?:\\s+(?:"+h+"))"+u),e.push("(?:\\s+(?:"+h+"))"+u),e.push("(?:\\s+(?:"+l+"|"+d+"|"+r.join(n)+")\\b)"),e.push("(?:\\s+(?:next|to next|to|till|coming|for next|for|-))"),e.push("(?:\\s+(?:"+h+"))"+u),e.push("(?:\\s+(?:"+l+"|"+d+"|"+p+"|"+a.join(n)+")\\b)"),e.push("(?:\\s+(?:"+h+"))"+u),e.push(")"),new RegExp(e.join(""),"i")},pattern2:function(){var e=[];return e.push("(?:"),e.push("(?:\\b(?:every))"),e.push("(?:\\s+(?:"+p+n+f+n+a.join(n)+")\\b)"),e.push("(?:\\s+(?:till))"),e.push("(?:\\s+(?:"+h+"))"+u),e.push("(?:\\s+(?:"+l+n+d+n+p+n+a.join(n)+")\\b)"),e.push("(?:\\s+(?:"+h+"))"+u),e.push(")"),new RegExp(e.join(""),"i")},pattern3:function(){var e=[];return e.push("(?:"),e.push("(?:\\b\\s*(?:meeting|meet)\\b)"),e.push("(?:\\s+(?:(([\\w\\'\\-]+\\s)?(at|in)))\\b)"),e.push("(?:\\s+(?:"+p+n+f+n+c+n+a.join(n)+")\\b)"),e.push(")"),new RegExp(e.join(""),"i")},pattern4:function(){var e=[];return e.push("(?:"),e.push("(?:"),e.push("(?:"),e.push("(?:\\b(?:i|we))"),e.push("(?:\\s*(?:'ve| have))?"),e.push("(?:\\s+(?:got a|got))"),e.push(")"),e.push(n),e.push("(?:\\b(?:got a|got))"),e.push(")?"),e.push("(?:\\b\\s*(?:meeting|meet|appointment|held on|starting)\\b)"),e.push("(?:\\s+(?:this|next|all|at|in|every))"),e.push("(?:\\s+(?:"+c+")\\b)"+u),e.push("(?:\\s+(?:"+p+"|"+f+"|"+a.join(n)+")\\b)"),e.push(")"),new RegExp(e.join(""),"i")},pattern5:function(){return new RegExp("\\b("+o.join(n)+")\\b","i")}};return zmail.showFeature&&(g.pattern6=function(){var e;return e="(?:",e+="(?:\\b\\s*",e+="(?:"+i.actionVerb.join(n)+")\\b",e+=")?",e+="(?:\\s+",e+="(?:",e+="(",e+="([\\w\\'\\-]+\\s)?",e+="("+i.prepositions.join(n)+")",e+=")",e+=")\\b",e+=")",e+="(?:\\s+",e+="(?:",e+="([0-9]+\\sdays)",e+="|",e+="([0-9]+\\shours?)",e+="|",e+="([0-9]{1,2}\\s?(.|:)?\\s?[0-9]{0,2}\\s?(am|pm)?)",e+="|",e+="("+s._date1.join(n)+")",e+=")\\b",e+=")",e+=")",new RegExp(e,"i")}),zmail.win.zmMailReminder=t={isReminderNeedToAdd:function(e){for(var t in g){var n=g[t]().exec(e);if(n)return{text:n=n[0].trim(),index:t,pattern:g[t]()}}}},t}),define([],function(e){var r=e("_"),t=e("$.when"),a=e("$.Deferred"),n=function e(t){if(!(this instanceof e))return new e(t);r.extend(this,this.defaults(),t),this.setResult=this.setResult.bind(this)};return n.prototype={defaults:function(){return{pageSize:10,pageNo:0,pending:0,threshold:30,hasMoreToFetch:!0,query:void 0,expected:0,result:[],provider:function(e){return e.result}}},isFirstPage:function(){return 1===this.pageNo},resetPage:function(){return this.pageNo=0,this.hasMoreToFetch=!0,this},reset:function(){return this.resetPage(),this.pending=0,this.query=void 0,this.expected=0,this.result=[],this},getPageSize:function(){return r.result(this,"pageSize")},setResult:function(e){return this.result=e||[],this.hasMoreToFetch=this.result.length>=this.expected,this},isQueryChanged:function(e){return void 0!==e&&this.query!==e},setQuery:function(e){return this.isQueryChanged(e)&&(this.reset(),this.query=e),this},setPending:function(e){return this.pending=this.getPageSize()-e.length,this},setNextPage:function(){return this.pageNo+=1,this},getLastServedIndex:function(){var e=this.getPageSize()*this.pageNo;return e=(e-=this.pending)<0?0:e},getEndIndex:function(e){var t=e+this.getPageSize();return this.endIndex>this.result.length&&(t=this.result.length-1),t=t<=0?1:t},getResultSubSet:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.getLastServedIndex();return e.showFilters?this.result.slice(t):this.result.slice(t,this.getEndIndex(t))},fetch:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r.isFunction(this.provider)?(this.expected=(this.pageNo+1)*this.getPageSize(),t(this.provider(this,e)).then(this.setResult)):t(this.provider).then(this.setResult)},isMoreThanThreshold:function(e){return e.length/this.getPageSize()*100>=this.threshold},next:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.setQuery(e);var n=new a,s=this.getResultSubSet();if(this.hasMoreToFetch&&!this.isMoreThanThreshold(s)||t.showFilters){var i=this;this.fetch(t).then(function(){r.isFunction(t.onThen)&&t.onThen(),s=i.getResultSubSet(t),i.setNextPage().setPending(s),n.resolve(s,i.isFirstPage(),t)},n.reject)}else this.setNextPage().setPending(s),n.resolve(s,this.isFirstPage());return n.promise()}},zmail.Paginator=n,zmail.Paginator}),define([],function(e,t){var n=e("_"),s=function e(t){if(!(this instanceof e))return new e(t);n.extend(this,this.defaults(),t),this.resetIndex(),delete this.defaults};return s.prototype={defaults:function(){return{list:[],startIndex:-1,index:-1}},add:function(e){return this.list&&this.list.push(e),this},remove:function(e){if(this.list){var t=this.list.indexOf(e);-1!==t&&(this.list.splice(t,1),this.index===t&&this.resetIndex())}return this},set:function(e){return n.extend(this,e),this},getIndexOf:function(e){return this.list.indexOf(e)},setIndexOf:function(e){var t=this.getIndexOf(e);return-1!==t?this.index=t:this.resetIndex(),this},resetIndex:function(){return this.index=this.startIndex,this},reset:function(){return this.list=void 0,this.resetIndex()},value:function(){return this.list[this.index]},skip:function(e,t){return!1},next:function(){return this.list&&(this.index+=1,this.index>=this.list.length&&(this.index=0),this.skip(this.value(),this.index))?this.next():this},previous:function(){return this.list&&(this.index-=1,this.index<0&&(this.index=this.list.length-1),this.skip(this.value(),this.index))?this.previous():this},traverse:function(e){return-1===e?this.previous():this.next()},first:function(){return this.list&&0<this.list.length&&(this.index=0),this},last:function(){return this.list&&0<this.list.length&&(this.index=this.list.length-1),this}},zmail.Traverser=s,zmail.Traverser});