"use strict";define([],function(e,t){var i,o=zmail.Core.Namespaces.create("zmail.HotKeysWindow");return o.getCurrentMatchingWord=function(n){var r={},a=[];return new Promise(function(e,t){i.then(function(){Object.keys(o.allKeys).forEach(function(e){r={},(o.isMatchFound(e,n)||""===n||e.includes(n))&&(r={key:e,value:o.allKeys[e]},a.push(r))}),e(a)})})},o.isMatchFound=function(e,t){e=(e=(new DOMParser).parseFromString(e,"text/html").getElementsByTagName("body")[0].innerText).substr(e,t.length).split(""),t=t.split("");for(var n=!1,r=e.length,a=0;a<r;a++){if(e[a].trim()!==t[a].trim())return n=!1;n=!0}return n},o.getSmartSuggestedWords=function(n){var r,e=new Promise(function(e,t){r=e}),a=[],i={};return o.getCurrentMatchingWord(n).then(function(e){var t;0<e.length?r(e):(Object.keys(o.allKeys).forEach(function(e){t=o.allKeys[e].replace(/&nbsp;/g,""),o.isMatchFound(t,n)&&(i={key:e,value:t,index:t.indexOf(n)},a.push(i))}),r({_matchArr:a,keyNotMatched:!0}))}),e},i=new Promise(function(t,e){zmAjq.XHR({u:zmail.conPath+"/textReplace.do",t:"post",p:{mode:"get"},fn:function(e){o.allKeys=e.keyValueMap,t()},efn:function(){e()}})}),o});